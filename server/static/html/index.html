<!DOCTYPE html>

<!--
Client-side part of the Go websocket sample.

Simple HTML page with some JS that records mouse movement events and sends them
into a websocket. On receiving messages from this websocket, reports them as
text in a <p> beneath the box.

Eli Bendersky [http://eli.thegreenplace.net]
This code is in the public domain.
-->
<html>
<head>
<style>
  div#box {
  width: 200px;
  height: 100px;
    border: 1px solid black;
  }
  div#box:hover {
    background-color: #EEFEEE;
  }
</style>
</head>

<body>
<p id="timeticker">Waiting for time...</p>


<script type="text/javascript">

  var sockTime = null;

  // Websocket server address.
  var wsServerAddress = "ws://127.0.0.1:4050";

  window.onload = function() {
   
    sockTime = new WebSocket(wsServerAddress + "/wstime");
    sockTime.onmessage = function(e) {
      document.getElementById("timeticker").innerHTML = e.data;
    }
  };

  // Send the msg object, encoded with JSON, on the websocket if it's open.
  function socketSend(msg) {
    if (sockEcho != null && sockEcho.readyState == WebSocket.OPEN) {
      sockEcho.send(JSON.stringify(msg));
    } else {
      console.log("Socket isn't OPEN");
    }
  }


</script>

</body>
</html>